{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/2019-OCT-15","webpackCompilationHash":"a7ab64499790d4614afa","result":{"data":{"markdownRemark":{"frontmatter":{"title":"The Mandelbrot set in Javascript Part 1","date":"October 5, 2019"},"html":"<p>Last summer, I took a Parallel Computing course where we took simple programs (that you've probably completed over the course of your programmimg career) and \"parallized\" them or optimized them to make them run faster. Some of the projects we worked on included Conways Game of Life, Dot Products, Image Convolution and what we'll be talking about today - the Mandelbrot Set.</p>\n<p>I orginally wrote the code in C because of it's usability with MPI, but if we're being honest the only other language we were allowed to write in was FORTRAN and I choose not to put myself through that kind of pain. </p>\n<p>Here is a big chunk of the most of the Mandelbrot logic. There is some MPI code in there so, for understandability just know that the <em>MPI_RECV</em>s recieve variables while the <em>MPI_SEND</em>s, send variables to different processes.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 522px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.69731800766284%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABJ0AAASdAHeZh94AAABr0lEQVQ4y51UCY6jMBDk//9brTSahMMksTFHID64a7qtzGojZQCNpZKxDEW5qtvROE6wzmEYgKHv0fcDYQ2ztRbeeyzLchiRlAa5KJCrDn+zGKYz6DrAuRFlqemZFjTWdT2EqKX3Kz1AlDn+yBR2IEWY8dsRtS2g1ANpesb93uLSVXj0/u3LhxQ2DSDEjNutRNPUsMbCkXfGmAD28Zvs/3lD4YosA3k1EekFWpfkXQkpJYqiCGjpGFVVvZD+RBxNEyjRmUKwNPchhHEcX9TM8/xCsqUy0rrD9apxueSI4xjn85n8TOn4zY8ebpESYUFHTpHnecDpdAqETJwkSYAQIuzx8Qcu2G1CTYRZ+EgpFQjYL1bIe+wnrxkT+7PnIfvlvQtp8t8ddQ12ktz0kLqFTGdMQUHAMh+qubeE7L2SlnyLkcQJPj4/UZvuKeW9sk2F3HpKP3CVOYylPrYd/Ejtt86YSem0TAGHC9v2DqLOoe4Kpa0hjUTlKtSuRtu3aHyDwhSB9BghhSEygYJuFj8Ovw7jHyH3K5fMTUnY56WwFcKuQi4TLtj7oyPf9lPdI/wCUaWAKayCYfEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mandelbrot 1\"\n        title=\"mandelbrot 1\"\n        src=\"/static/6459fe2e816de898037ecb6f7699d789/538d2/mandelbrot_1.png\"\n        srcset=\"/static/6459fe2e816de898037ecb6f7699d789/19bd1/mandelbrot_1.png 163w,\n/static/6459fe2e816de898037ecb6f7699d789/d3bcb/mandelbrot_1.png 325w,\n/static/6459fe2e816de898037ecb6f7699d789/538d2/mandelbrot_1.png 522w\"\n        sizes=\"(max-width: 522px) 100vw, 522px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 605px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 86.94214876033058%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABJ0AAASdAHeZh94AAABu0lEQVQ4y6VUi5KiMBDc///G0yoCQQQChCQ8E/pmorjeyrl1e6mKA6Pp6Znu+LFtAcPgoeoedaPRO4ufrG3bYvwIIYC3cx6pNBBSwhoD6xzcOKLve3RdBzM6aGtgegOtdcxztNY+wDg+AOkV07SivCoUZYGsvCLNHMqypYNdZN7T4R3oUYiK385/AeQiPVUXQhDoFdrQQWPRti2apoF2Bh3nOh1zDMaRgQ8Z8ss0TajrCuM8/f8MeRnj8OuUIstzVI2KBdZ1jT/+bh8wDASw0cxGyEwgEQnKqsI8z4dM/rYegDeWAeMYIGWguVmyUY1Of85sB39m9RaQWRqzkDAWuayo7ZrEIGV1H9s/avMbQBZmJnY1sVLkR/LYfb5+C//eMm/SAEoZnE4iWkiS0SWJJC85DJn9ueWvgvwhys6Q22bQtt0+DRvet/mcf/HhSNeNh78s0z0uWNYFK8XZr5iWe472MAzRVi8Mvb8xYTXTNCXLCJzPZ1yKgq5fFtsVF4m0yJFkKUSSxHEopSKBw5a50h65OkcffIwxR+z8/nz//rDl28z8j/+yXkThD54VU+cZ8vbeH6r57srtz78BgAkzI678mEQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mandelbrot 3\"\n        title=\"mandelbrot 3\"\n        src=\"/static/00ca283f08eadb833f5438a71fc7171f/b1c25/mandelbrot_3.png\"\n        srcset=\"/static/00ca283f08eadb833f5438a71fc7171f/19bd1/mandelbrot_3.png 163w,\n/static/00ca283f08eadb833f5438a71fc7171f/d3bcb/mandelbrot_3.png 325w,\n/static/00ca283f08eadb833f5438a71fc7171f/b1c25/mandelbrot_3.png 605w\"\n        sizes=\"(max-width: 605px) 100vw, 605px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Recently, I have been working a lot with React which has caused me to challenge myself to write different programs, which normally wouldn't be written in Javascript, to be written in Javascript. I recently followed freeCodeCamps tutorial on Tetris in react (while putting my own spin on it) and it works <em>relatively</em> well.</p>\n<p>The Mandelbrot set is a set of complex numbers, c, where the f(z) = z^2 + c does not diverge when z starts at 0. <a href = \"https://en.wikipedia.org/wiki/Mandelbrot_set\">Here</a> is a link to the wikapedia article that gives you some basic understandin of the Mandelbrot set, some host and some psuedocode to compute it. The thing that makes the Mandelbrot set so unique is that you can endlessly \"zoom\" into the picture which reveals new patterns.</p>\n<p><img src=\"https://media.giphy.com/media/pb0iuLS5EguxG/giphy.gif\"></p>\n<p>Let's first talk about this mandelbrot function:</p>\n<pre><code class=\"language-javascript\">    let MAXIUMUM_ITERATIONS = 255;\n\n    function mandelbrot(ix, iy, rx, ry) {\n        let n = 0;\n\n        while((ix*ix + iy*iy) &#x3C;= 4 &#x26;&#x26; n &#x3C; MAXIUMUM_ITERATIONS) {\n            let z = ix*iy;\n            ix = ix*ix - iy*iy + rx;\n            iy = 2*z + ry;\n\n            n += 1;\n        }\n        \n        return n;\n    }\n</code></pre>\n<p>This while loop is run a maximum of 255 timesfor each pixel in the image. Basically, the only way we will break out of the loop is if the absolute value of the complex number is greater than 4 or 255 has been hit. The iteration, n, is the number we want here beacsue this is what tells us what color to plot in order to see the fractal in an image.</p>\n<p>Next, we have have to iterate over an image. For right now, instead of using something like canvas, I just used colored div's so, in order to achieve this, I just initialized an empty list called colors. The rx and ry values are used for zoom in and out of your image - the higher the value, the more zoomed in to the image you are.</p>\n<pre><code class=\"language-javascript\">     function main() {\n\n      let height = 400;\n      let width = 400;\n\n      for(let i = 0; i &#x3C; width; i++) {\n          for(let j = 0; j &#x3C; height; j++) {\n            //zooming in and out of the picture\n            let rx = -2 + i/100;\n            let ry = -2 + j/100;\n            let ix = 0;\n            let iy = 0;\n\n            let ans = mandelbrot(ix, iy, rx, ry);\n            if(ans === MAXIUMUM_ITERATIONS) {\n              colors.push(\"black\")\n            }\n            else if(ans &#x3C; 255 &#x26;&#x26; ans >= 10) {\n              colors.push(\"red\")\n            }\n            else if(ans &#x3C; 10 &#x26;&#x26; ans >= 5) {\n              colors.push(\"green\")\n            }\n            else if(ans &#x3C; 5 &#x26;&#x26; ans >= 3) {\n              colors.push(\"orange\")\n            }\n            else {\n              colors.push(\"white\")\n            }\n              \n          }\n      }\n  }\n</code></pre>\n<p>In order to see some contrast in my image, I used different colors to represent certain ranges of values as shown above. So to color the divs, I used the map function to easily change the colors on the divs.</p>\n<pre><code class=\"language-javascript\">let count = 0;\n  const divList = colors.map((color) => {\n    count++;\n    if(count >= 400) {\n      count = 0;\n      return(&#x3C;br/>)\n    }\n\n    if(color === 'white') {\n      return(&#x3C;div style = {{backgroundColor:'blue', display:'inline-block'}}>.&#x3C;/div>)\n    }\n    else if(color === 'red') {\n      return(&#x3C;div style = {{backgroundColor:'red', display:'inline-block'}}>.&#x3C;/div>)\n    }\n    else if(color === 'green') {\n      return(&#x3C;div style = {{backgroundColor:'green', display:'inline-block'}}>.&#x3C;/div>)\n    }\n    else if(color === 'orange') {\n      return(&#x3C;div style = {{backgroundColor:'orange', display:'inline-block'}}>.&#x3C;/div>)\n    }\n    else {\n      return(&#x3C;div style = {{backgroundColor:'white', display:'inline-block'}}>*&#x3C;/div>)\n    }\n  })\n</code></pre>\n<p>Below is a gif of what it ended up looking like.</p>\n<p><img src=\"https://media.giphy.com/media/ekFzWnb9ewGm7FZc3Y/giphy.gif\"></p>\n<p>In my next post, I will be making a actual image out of the Mandelbrot and give all of you an oppourtunity to download my code as well!</p>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"2019-OCT-15"}}}